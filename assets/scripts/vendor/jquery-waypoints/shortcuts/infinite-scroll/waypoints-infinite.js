/*
Infinite Scroll Shortcut for jQuery Waypoints - v2.0.5
Copyright (c) 2011-2014 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/

(function(){!function(root,factory){return"function"==typeof define&&define.amd?define(["jquery","waypoints"],factory):factory(root.jQuery)}(window,function($){var defaults;return defaults={container:"auto",items:".infinite-item",more:".infinite-more-link",offset:"bottom-in-view",loadingClass:"infinite-loading",onBeforePageLoad:$.noop,onAfterPageLoad:$.noop},$.waypoints("extendFn","infinite",function(options){var $container,opts;return opts=$.extend({},$.fn.waypoint.defaults,defaults,options),0===$(opts.more).length?this:($container="auto"===opts.container?this:$(opts.container),opts.handler=function(direction){var $this;return"down"===direction||"right"===direction?($this=$(this),opts.onBeforePageLoad(),$this.waypoint("destroy"),$container.addClass(opts.loadingClass),$.get($(opts.more).attr("href"),function(data){var $data,$more,$newMore,fn;return $data=$($.parseHTML(data)),$more=$(opts.more),$newMore=$data.find(opts.more),$container.append($data.find(opts.items)),$container.removeClass(opts.loadingClass),$newMore.length?($more.replaceWith($newMore),fn=function(){return $this.waypoint(opts)},setTimeout(fn,0)):$more.remove(),opts.onAfterPageLoad()})):void 0},this.waypoint(opts))})})}).call(this);