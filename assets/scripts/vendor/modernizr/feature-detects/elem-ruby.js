Modernizr.addTest("ruby",function(){function getStyle(element,styleProperty){var result;return window.getComputedStyle?result=document.defaultView.getComputedStyle(element,null).getPropertyValue(styleProperty):element.currentStyle&&(result=element.currentStyle[styleProperty]),result}function cleanUp(){docElement.removeChild(ruby),ruby=null,rt=null,rp=null}var ruby=document.createElement("ruby"),rt=document.createElement("rt"),rp=document.createElement("rp"),docElement=document.documentElement,displayStyleProperty="display",fontSizeStyleProperty="fontSize";return ruby.appendChild(rp),ruby.appendChild(rt),docElement.appendChild(ruby),"none"==getStyle(rp,displayStyleProperty)||"ruby"==getStyle(ruby,displayStyleProperty)&&"ruby-text"==getStyle(rt,displayStyleProperty)||"6pt"==getStyle(rp,fontSizeStyleProperty)&&"6pt"==getStyle(rt,fontSizeStyleProperty)?(cleanUp(),!0):(cleanUp(),!1)});